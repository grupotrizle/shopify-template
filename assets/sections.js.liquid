{% layout 'assets.sections' %}
document.addEventListener("shopify:block:select",event=>{const carousel=event.target.closest(".announcement-bar .carousel");carousel&&bootstrap.Carousel.getOrCreateInstance(carousel,{ride:!1}).to(event.target.dataset.index)}),document.addEventListener("shopify:block:select",event=>{const carousel=event.target.closest(".carousel");carousel&&bootstrap.Carousel.getOrCreateInstance(carousel,{ride:!1}).to(event.target.dataset.index)});const initMarqueeSections=()=>{document.querySelectorAll(".marquee").forEach(section=>{const list=section.querySelector("ul"),marqueeWidth=list.scrollWidth,marqueeLength=list.querySelectorAll("li").length;list.insertAdjacentHTML("beforeEnd",list.innerHTML),list.insertAdjacentHTML("beforeEnd",list.innerHTML),list.querySelectorAll("li").forEach((item,index)=>{index>=marqueeLength&&item.setAttribute("aria-hidden","true")});let style=`
            <style>#marquee-${list.dataset.sectionId} ul {
                    animation-name: marquee-animation-${list.dataset.sectionId};
                    animation-duration: ${list.dataset.animationDuration}s;
                }
                @keyframes marquee-animation-${list.dataset.sectionId} {
                    to { transform: translateX(-${marqueeWidth}px); }
                }
            </style>`;list.dataset.marqueeDirection==="right"&&(style+=`
                <style>@keyframes marquee-animation-${list.dataset.sectionId} {
                        from { transform: translateX(-${marqueeWidth}px); }    
                        to { transform: 0); }    
                    }
                </style>`),list.insertAdjacentHTML("beforeBegin",style)})};initMarqueeSections(),document.addEventListener("shopify:section:load",e=>{e.target.querySelector(".marquee")&&initMarqueeSections()});const initFeaturedProducts=()=>{document.querySelectorAll(".featured-products").forEach(section=>{const element=section.querySelector(".splide"),mySplide=new Splide(element,{arrows:element.dataset.arrows==="true",pagination:element.dataset.pagination==="true",easing:element.dataset.easing,speed:Number(element.dataset.speed),perMove:Number(element.dataset.perMove),autoplay:element.dataset.autoplay==="true",interval:Number(element.dataset.interval),per_move:Number(element.dataset.perMove),rewind:element.dataset.rewind==="true",mediaQuery:"min",breakpoints:{0:{perPage:Number(element.dataset.breakpointXs),padding:0},576:{perPage:Number(element.dataset.breakpointSm),padding:0},768:{perPage:Number(element.dataset.breakpointMd),padding:0},992:{perPage:Number(element.dataset.breakpointLg),padding:0},1200:{perPage:Number(element.dataset.breakpointXl),padding:0},1400:{perPage:Number(element.dataset.breakpointXxl),padding:0}}}),fixArrowsPos=()=>{const top=section.querySelector(".product-item-img")?.clientHeight/2;section.querySelectorAll(".splide__arrow").forEach(arrow=>{arrow.style.top=`${top}px`})},fixPagination=()=>{if(window.matchMedia("(max-width: 575px").matches){const pagination=section.querySelector(".splide__pagination");if(!pagination)return;section.querySelector(".splide__pagination--mobile")?.remove();const total=pagination.querySelectorAll("button").length;let text=element.dataset.textSlideOf.replace("[x]",mySplide.index+1);text=text.replace("[total]",total),pagination.insertAdjacentHTML("beforebegin",`
                    <div class="splide__pagination--mobile text-muted small">${text}
                    </div>`)}};mySplide.on("ready resize",()=>{fixArrowsPos(),fixPagination()}),mySplide.on("move",()=>{fixPagination()}),mySplide.mount()})};initFeaturedProducts(),document.addEventListener("shopify:section:load",e=>{e.target.querySelector(".featured-products")&&initFeaturedProducts()});const initRecommendedProducts=async()=>{const section=document.querySelector(".recommended-products");if(!section)return;const{sectionId,baseUrl,productId,limit}=section.dataset,url=`${baseUrl}?section_id=${sectionId}&product_id=${productId}&limit=${limit}`,data=await(await fetch(url)).text();if(section.closest(".shopify-section").innerHTML=data,!document.querySelector(".recommended-products .product-item")){document.querySelector(".recommended-products").closest(".shopify-section").remove(),console.log("test");return}initFeaturedProducts();const customEvent=new CustomEvent("init.ecomify.recommended_products");window.dispatchEvent(customEvent)};initRecommendedProducts(),document.addEventListener("shopify:section:load",e=>{e.target.querySelector(".recommended-products")&&initRecommendedProducts()});const initTestimonials=()=>{document.querySelectorAll(".testimonials").forEach(section=>{const element=section.querySelector(".splide"),mySplide=new Splide(element,{arrows:element.dataset.arrows==="true",pagination:element.dataset.pagination==="true",easing:element.dataset.easing,speed:Number(element.dataset.speed),perMove:Number(element.dataset.perMove),autoplay:element.dataset.autoplay==="true",interval:Number(element.dataset.interval),per_move:Number(element.dataset.perMove),rewind:element.dataset.rewind==="true",mediaQuery:"min",breakpoints:{0:{perPage:Number(element.dataset.breakpointXs),padding:"10%"},576:{perPage:Number(element.dataset.breakpointSm),padding:0},768:{perPage:Number(element.dataset.breakpointMd),padding:0},992:{perPage:Number(element.dataset.breakpointLg),padding:0},1200:{perPage:Number(element.dataset.breakpointXl),padding:0},1400:{perPage:Number(element.dataset.breakpointXxl),padding:0}}}),fixArrowsPos=()=>{const top=section.querySelector(".card").clientHeight/2;section.querySelectorAll(".splide__arrow").forEach(arrow=>{arrow.style.top=`${top}px`})},fixPagination=()=>{if(window.matchMedia("(max-width: 575px").matches){const pagination=section.querySelector(".splide__pagination");if(!pagination)return;section.querySelector(".splide__pagination--mobile")?.remove();const total=pagination.querySelectorAll("button").length;let text=element.dataset.textSlideOf.replace("[x]",mySplide.index+1);text=text.replace("[total]",total),pagination.insertAdjacentHTML("beforebegin",`
                    <div class="splide__pagination--mobile text-muted small">${text}
                    </div>`)}};mySplide.on("ready resize",()=>{fixArrowsPos(),fixPagination()}),mySplide.on("move",()=>{fixPagination()}),mySplide.mount()})};initTestimonials(),document.addEventListener("shopify:section:load",e=>{e.target.querySelector(".testimonials")&&initTestimonials()});const initCardsImageOrVideo=()=>{document.querySelectorAll(".cards-with-image").forEach(section=>{const element=section.querySelector(".splide");new Splide(element,{type:"loop",arrows:!1,pagination:!1,rewind:!0,mediaQuery:"min",breakpoints:{0:{perPage:Number(element.dataset.breakpointXs),padding:"15%"},576:{perPage:Number(element.dataset.breakpointSm),padding:0},768:{perPage:Number(element.dataset.breakpointMd),padding:0},992:{perPage:Number(element.dataset.breakpointLg),padding:0},1200:{perPage:Number(element.dataset.breakpointXl),padding:0},1400:{perPage:Number(element.dataset.breakpointXxl),padding:0}}}).mount()})};initCardsImageOrVideo(),document.addEventListener("shopify:section:load",e=>{e.target.querySelector(".cards-with-image")&&initCardsImageOrVideo()});const initInstagramGallery=()=>{document.querySelectorAll(".instagram-gallery").forEach(section=>{const element=section.querySelector(".splide");let speed=Number(element.dataset.speed);element.dataset.direction==="right"&&(speed=-Math.abs(speed)),new Splide(element,{type:"loop",drag:"free",focus:"center",arrows:element.dataset.arrows==="true",pagination:!1,easing:element.dataset.easing,gap:Number(element.dataset.gap),mediaQuery:"min",breakpoints:{0:{perPage:Number(element.dataset.breakpointXs),padding:0},576:{perPage:Number(element.dataset.breakpointSm),padding:0},768:{perPage:Number(element.dataset.breakpointMd),padding:0},992:{perPage:Number(element.dataset.breakpointLg),padding:0},1200:{perPage:Number(element.dataset.breakpointXl),padding:0},1400:{perPage:Number(element.dataset.breakpointXxl),padding:0}},autoScroll:{speed}}).mount(window.splide.Extensions)})};initInstagramGallery(),document.addEventListener("shopify:section:load",e=>{e.target.querySelector(".instagram-gallery")&&initInstagramGallery()});const initParallaxImage=()=>{document.querySelectorAll(".parallax-image").forEach(section=>{const imgMobile=section.querySelector(".img-mobile"),imgDesktop=section.querySelector(".img-desktop");new simpleParallax(imgMobile,{orientation:imgMobile.dataset.orientation,scale:Number(imgMobile.dataset.scale/100)}),new simpleParallax(imgDesktop,{orientation:imgDesktop.dataset.orientation,scale:Number(imgDesktop.dataset.scale/100)})})};initParallaxImage(),document.addEventListener("shopify:section:load",e=>{e.target.querySelector(".parallax-image")&&initParallaxImage()});const initStickyAtc=async()=>{const wrapper=document.querySelector("#sticky-atc");if(!wrapper)return;await new Promise(resolve=>setTimeout(resolve,1e3));const threshold=document.querySelector("#product-content .form-wrapper").getBoundingClientRect().bottom+window.scrollY;window.addEventListener("scroll",()=>{window.scrollY>threshold?(wrapper.classList.add("show"),document.body.style.paddingBottom=wrapper.clientHeight+"px"):(wrapper.classList.remove("show"),document.body.style.paddingBottom=0)})};initStickyAtc();const initNewsletterPopup=async()=>{const modal=document.querySelector("#newsletter-popup-modal");if(!modal)return;const bsModal=bootstrap.Modal.getOrCreateInstance(modal);if(window.location.href.includes("newsletter-popup")){bsModal.show();return}document.cookie.indexOf("ecomify-newsletter-popup")>-1||(await new Promise(resolve=>setTimeout(resolve,Number(modal.dataset.delay)*1e3)),window.createCookie("ecomify-newsletter-popup",!0,Number(modal.dataset.daysToWait)),bsModal.show())};initNewsletterPopup(),document.addEventListener("shopify:section:load",e=>{e.target.querySelector("#newsletter-popup-modal")&&bootstrap.Modal.getOrCreateInstance("#newsletter-popup-modal").show()}),document.querySelectorAll(".video-modal").forEach(modal=>{modal.addEventListener("show.bs.modal",event=>{modal.querySelector("video").play()})}),document.querySelectorAll(".video-modal").forEach(modal=>{modal.addEventListener("hide.bs.modal",event=>{modal.querySelector("video").pause()})});
//# sourceMappingURL=/cdn/shop/t/52/assets/sections.js.map?v=127859910169828651691698609398
