window.ppStartTime=performance.now();window.heatLoadedScripts=[];window.saveClicksToLocal=!0;window.heatmapSessionTag={params:{}};
var nodeConfigs={},heatVisitData={},userScrollData={},userConvertData={},exitEventSent=!1,visitRecordSent={loghsr:!1,visit:!1,pageview:!1,preprocessor:!1,heatmaplight:!1,to_generate:!1,loadtimesent:!1},globalObjects={},createNewVisitRequired=!1,previousIdVisit="",preHeatmapSiteId="",heartBeatBeacons="",dataContainer=[],defaultEventTimeout=300,isReturningUser=0,websiteOrigin=window.location.origin,sessionState=!!window.browserState&&"bot-testing"==window.browserState,isGoalBuyer=localStorage.getItem("heatIsGoalBuyer"),
isGoalBuyerValue=localStorage.getItem("heatIsGoalBuyerValue"),isGoalBuyerCurrency=localStorage.getItem("heatIsGoalBuyerCurrency");window._heatmapDEBUG=!1;window.savedBreakPoints=localStorage.getItem("heatmapDebugger");window.savedBreakPoints?(window.savedBreakPoints=JSON.parse(window.savedBreakPoints),window.heatmapBreakPoints=window.savedBreakPoints?.heatmapCDBreakPointMenuItems||{}):window.heatmapBreakPoints={};if("undefined"===typeof heatUrl)var heatUrl="https://dashboard.heatmap.com/";
function debounce(a,b,d){let c;return function(){const e=this,f=arguments,q=d&&!c;clearTimeout(c);c=setTimeout(function(){c=null;d||a.apply(e,f)},b);q&&a.apply(e,f)}}
function calculateDocumentHeight(){try{return Math.max(document.body?document.body.offsetHeight:0,document.body?document.body.scrollHeight:0,document.documentElement?document.documentElement.offsetHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.documentElement?document.documentElement.scrollHeight:0)}catch(a){return 0}}
function sendHeatBeatBeacon(a,b="",d=""){try{let c=`${websiteOrigin}${window.location.pathname}`;if(websiteOrigin.includes("heatmapcore")||websiteOrigin.includes("heatmap.com"))return!0;let e={sendBeacon:a,siteid:preHeatmapSiteId,page_url:c,idSiteHsr:b,idVisit:generatedIdVisit,docHeight:`${calculateDocumentHeight()}_${heatmapPGetDeviceFromStore()}`};"leadConversion"===a&&(e.idVisitor=localStorage.getItem("_mr_vid"),e.isReturning=isReturningUser,localStorage.setItem("heatIsGoalBuyer",1),localStorage.setItem("heatIsGoalBuyerValue",
1));"leadConversion"===a&&(e.idVisitor=localStorage.getItem("_mr_vid"),e.isReturning=isReturningUser,localStorage.setItem("heatIsGoalBuyer",1),localStorage.setItem("heatIsGoalBuyerValue",1));d&&(e.userJourney=d);navigator.sendBeacon(`${heatUrl}heatmap.php`,JSON.stringify(e))}catch(c){return""}}
function getHeatmapPageSid(){try{var a=/(preprocessor(?:-s3)?(?:\.min)?\.js\?sid=[^'"&]+)|(heatmap-light(?:\.min)?\.js\?sid=[^'"&]+)|(preprocessor(?:\.min)?\.js\?sid=[^'"&]+)|(heatmap\.js\?sid=[^'"&]+)/,b=document.head.innerHTML.match(a);b&&(b[1]||b[2]||b[3]||b[4])||(b=document.body.innerHTML.match(a));if(b&&(b[1]||b[2]||b[3]||b[4])){let d=(b[1]||b[2]||b[3]||b[4]).split("=")[1];return preHeatmapSiteId=parseInt(d)}}catch(d){}return null}
if("undefined"===typeof _heatmap_paq){var _heatmap_paq=window._heatmap_paq=window._heatmap_paq||[];if("undefined"!==typeof window._paq&&0!==window._paq.length){let a=!0;for(let b=0;b<_paq.length;b++)if(Array.isArray(_paq[b])){let d=_paq[b][1];if("setTrackerUrl"===_paq[b][0]&&d!==heatUrl){a=!1;break}}0==a?_heatmap_paq.push(["setTrackerUrl",heatUrl+"heatmap.php"]):_heatmap_paq=window._paq}_heatmap_paq.some(a=>a.includes("setTrackerUrl"))||_heatmap_paq.push(["setTrackerUrl",heatUrl+"heatmap.php"])}
function loadScriptHeatmap(a,b=null){if(window.heatLoadedScripts[a])b&&"function"===typeof b&&b();else{var d=document.createElement("script");d.type="text/javascript";d.src=a;d.async=!1;d.defer=!0;d.onload=function(){window.heatLoadedScripts[a]=!0;b&&"function"===typeof b&&b()};document.head.appendChild(d)}}
function triggerDebugger(){getHeatmapPageSid();var a=JSON.parse(localStorage.getItem("heatmapDebugger"));a?(a.hasOwnProperty("jsFilesStatus")&&delete a.jsFilesStatus,a.hasOwnProperty("heatmapLightLT")&&delete a.heatmapLightLT,a.hasOwnProperty("conversionsLT")&&delete a.jsFilesStatus,a.hasOwnProperty("conversionsLT")&&delete a.conversionsLT,a.hasOwnProperty("heatmapCDPreprocessor")&&delete a.heatmapCDPreprocessor,a.hasOwnProperty("heatmapCDHeatmapLight")&&delete a.heatmapCDHeatmapLight,a.hasOwnProperty("heatmapCDConversions")&&
delete a.heatmapCDConversions):a={};localStorage.setItem("heatmapDebugger",JSON.stringify(a));a=window.location.href.includes("debugMode");localStorage.removeItem("heatmap_cxd_visit_logs_hsr_plt_status");if(a||localStorage.getItem("setDebug"))window._heatmapDEBUG=!0,localStorage.setItem("setDebug",1),loadScriptHeatmap(`${heatUrl}heatmap-debugger.js`),heatSaveStore("heatmapCDPreprocessor",{status:1,data:{}},"heatmapDebugger")}triggerDebugger();
function heatmapParamString(a){if(!isURL(a))return"";a=new URL(a);var b=new URLSearchParams(a.search);a={};const d=["page","pages","pg","v"];for(const [c,e]of b.entries())d.includes(c)&&(b=e.toLowerCase(),"v"===c&&"a b gma gmb cta ctb".split(" ").includes(b)?a[c]=b:"v"!==c&&(a[c]=b));return 0<Object.keys(a).length?"-"+(new URLSearchParams(a)).toString().replace(/[?=&]/g,"-"):""}
function heatCleanUrl(a){let b=heatmapParamString(a);var d=a.match(/^https?:\/\//);d=d?d[0]:"";a=a.split("?")[0].replace(/\/+$/,"").replace(/^(https?:\/\/)?(www\.)?/,"");return d+a+b}function heatRetrieveStore(a,b=null){if(!localStorage.getItem(a))return null;a=localStorage.getItem(a);if(null==b)return a;a=JSON.parse(a);b=heatCleanUrl(b);return a[b]?a[b]:null}
function debuggerNeedsUpdate(a){["heatmapCDHeatmapLight","heatmapCDPreprocessor","heatmapCDConversions"].includes(a)&&localStorage.setItem("debugger_needs_update",a)}function heatSaveStore(a,b,d="allHeatmapsIds"){let c=heatCleanUrl(a),e={},f=heatRetrieveStore(`${d}`);f&&(e=JSON.parse(f));e[c]=b;debuggerNeedsUpdate(a);return localStorage.setItem(`${d}`,JSON.stringify(e))}
function heatmapPGetDeviceFromStore(){return"undefined"===typeof navigator?1:480>=window.innerWidth?3:480<=window.innerWidth&&850>=window.innerWidth?2:1}function setHeatmapCrossDomainCookie(a,b,d){const c=new Date;let e=location.host;e=e.replace(/www./g,"");let f=e.split(".");2==f.length&&(f[0]="");c.setTime(c.getTime()+864E5*d);d="expires="+c.toUTCString();a=a+"="+b+";"+d+";path=/";a=e&&2<f.length?a+(";domain=."+f.join(".")):a+(";domain=."+e);document.cookie=a}
function heatmapGenerateUniqueId(a,b="_idl"){a=a?a:getHeatmapPageSid();var d=new Date,c=d.getFullYear().toString().slice(-1),e=(parseInt(d.getMonth())+1).toString();const f=d.getDate().toString().padStart(2,"0"),q=d.getHours().toString().padStart(2,"0"),t=d.getMinutes().toString().padStart(2,"0"),v=d.getSeconds().toString().padStart(2,"0");d=d.getMilliseconds().toString().padStart(3,"0");const k=Math.floor(100*Math.random()).toString().padStart(4,"0");let g=`${c}${e}${f}${q}${t}${v}${d}${k}`;g=g.replace(/\D/g,
"");18>g.length?(c=18-g.length,e=Math.floor(Math.random()*Math.pow(10,c)).toString().padStart(c,"0"),g=g*Math.pow(10,c)+e):18<g.length&&(g=g.slice(-18));18446744073709551615n<BigInt(g)&&(g=g.substring(1));"_idv"==b&&(c={idVisit:g,_heatIdvUpdated:(new Date).getTime()},heatSaveStore("_heatIdVisit",c,"_heatmapConfigs"),localStorage.setItem("_heatVid",g),setHeatmapCrossDomainCookie(`_heatVid_${a}`,g,1),setHeatmapCrossDomainCookie(`_heatIdvUpdated_${a}`,c._heatIdvUpdated,1));setTimeout(()=>{"_idl"==b&&
("undefined"!==typeof heatmapDebugger?heatmapDebugger.updateIdvIdl(b,g):localStorage.setItem("_heatidL",g))},1E3);return g}function heatmapRandomString(a){for(var b="";0<a;--a)b+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return b}function getHeatmapCrossDomainCookie(a){var b=document.cookie.split(";");try{for(var d=null,c=0;c<b.length;c++){var e=b[c].split("="),f=e[1];if(e[0].trim()===a.trim()){d=f;break}}return d}catch(q){}}
function getGeneratedVisitId(a=!1,b=null){var d=heatRetrieveStore("_heatmapConfigs","_heatIdVisit"),c=getHeatmapCrossDomainCookie(`_heatVid_${b}`),e=getHeatmapCrossDomainCookie(`_heatIdvUpdated_${b}`);!0===a?b=heatmapGenerateUniqueId(b,"_idv"):c?(d=(new Date).getTime()-e,7200<Math.floor(d/1E3)?(isReturningUser=1,isGoalBuyer=0,previousIdVisit=c,heatSaveStore("heatmapClientId",0,"_heatmapConfigs"),b=heatmapGenerateUniqueId(b,"_idv"),createNewVisitRequired=!0):b=c,localStorage.setItem("_heatVid",b)):
d?(c=(new Date).getTime()-d._heatIdvUpdated,7200<Math.floor(c/1E3)?(isReturningUser=1,isGoalBuyer=0,previousIdVisit=d.idVisit,heatSaveStore("heatmapClientId",0,"_heatmapConfigs"),b=heatmapGenerateUniqueId(b,"_idv"),createNewVisitRequired=!0):b=d.idVisit):(createNewVisitRequired=!0,b=heatmapGenerateUniqueId(b,"_idv"));createNewVisitRequired&&(localStorage.removeItem("demonstrationModeCaptureScreen"),heatSaveStore("_userJourney",null,"_heatmapConfigs"),heatSaveStore("leadConvCount",0,"_heatmapConfigs"),
localStorage.removeItem("_heatmap_event_tag"));localStorage.setItem("_heatDeviceType",heatmapPGetDeviceFromStore());heatSaveStore("_heatEventsCount",0,"_heatmapConfigs");heatSaveStore("isReturningUser",isReturningUser,"_heatmapConfigs");return b}
function parseUserAgent(a){let b="Unknown",d="Unknown",c="Unknown",e="Unknown",f="Unknown",q="Unknown",t="Unknown";var v=[{name:"Chrome",regex:/Chrome\/([0-9.]+)/},{name:"Firefox",regex:/Firefox\/([0-9.]+)/},{name:"Safari",regex:/Version\/([0-9.]+) Safari/},{name:"Safari",regex:/Version\/([0-9.]+)/},{name:"Edge",regex:/Edg\/([0-9.]+)/},{name:"Opera",regex:/OPR\/([0-9.]+)/}];for(var k of v)if(v=a.match(k.regex)){b=k.name;d=v[1];break}k=[{name:"iOS",regex:/OS ([0-9_]+) like Mac OS X/},{name:"Mac OS",
regex:/Mac OS X ([0-9_]+)/},{name:"Lumia",regex:/Lumia ([0-9_]+)/},{name:"Pixel",regex:/Pixel ([0-9_]+)/},{name:"SAMSUNG",regex:/SAMSUNG ([A-Z-0-9_]+)/}];for(var g of k)if(k=a.match(g.regex)){q=g.name;t=k[1]?k[1].replace(/_/g,"."):k[0];break}g=[{name:"Windows",regex:/Windows NT ([0-9.]+)/},{name:"iOS",regex:/OS ([0-9_]+) like Mac OS X/},{name:"Mac OS",regex:/Mac OS X ([0-9_]+)/},{name:"Pixel",regex:/Pixel ([0-9_]+)/},{name:"Android",regex:/Android ([0-9.]+)/},{name:"SAMSUNG",regex:/SAMSUNG ([A-Z-0-9_]+)/},
{name:"Linux",regex:/Linux/}];for(const h of g)if(g=a.match(h.regex)){c=g[0];e=h.name;f=g[1]?g[1].replace(/_/g,"."):g[0];break}return navigator.userAgentData&&navigator.userAgentData.brands.length?(a=navigator.userAgentData,a.fullVersionList=a.brands,a.platformVersion=f,a.brand=q,a.brandModel=t,a.model=c,a):{fullVersionList:[{brand:b,version:d}],mobile:a.match(/Mobi|Android/i)?!0:!1,model:c,brand:q,brandModel:t,platform:e,platformVersion:f}}window.heatMapLoaded=!1;window.contentEngagement=!0;
window.currentHeatmapURL=window.location.href;window.Client_url=new URL(window.location.href);window.heatSearchParams=new URLSearchParams(window.location.search);window.heatPauseBeforeSCreenshot=window.location.href.includes("pause_before_screenshot=1");window.heatmapRateLimiting=heatRetrieveStore("_heatmapConfigs","heatmapTracking");var heaturl=new URL(currentHeatmapURL);heaturl.search="";window.heatSiteHref=heaturl.href;
var configsResponse={},heatmapConfigsHasBeenAssigned=!1,heatmapHsrIds=0,heatmapLogsObject=[],preHeatSiteType="ecommerce",hrs_vidp=heatmapRandomString(10),hrs_pvidp=heatmapRandomString(6),regenConfiguration=window.location.href.includes("heatmap_config=1");myHeatEnv=heatRetrieveStore("_heatmapConfigs","_heatMapEnvRecord");
var generatedIdloghsr=heatmapGenerateUniqueId(preHeatmapSiteId,"_idl"),generatedIdVisit=getGeneratedVisitId(!1,preHeatmapSiteId),N=1,aH=9,o=10,P=8,w=3,LB=5,_heatDBG=!1,TmInterval=250,XYIntrvl=10,heatmapPNewVisitor=0,heatBrowFeatures={},ax=["button","submit","reset"],clcks=[],tstclks=[],triggerSinglepage=!1,heatmapConfigsResponse={heatmap:{heatmaps:[],sessions:[],idsite:preHeatmapSiteId,trackerid:heatmapRandomString(8)},idsite:preHeatmapSiteId,trackerid:heatmapRandomString(8)},heatmapClientId=heatRetrieveStore("_heatmapConfigs",
"heatmapClientId");window.pre_start_time=(new Date).getTime();window._heatmap_pre_clicks=[];window.heatviewsent=0;window.heatmapRateLimiting||(heatmapClientId=null);function cleanURL(a){let b=heatmapParamString(a);a=a.replace(/\/$/,"");a=a.replace(/^(https?:\/\/)?(www\.)/i,"");a=a.replace(/^(https?:\/\/)/i,"");a=a.replace(/\?.*/,"");a=a.split("#")[0];a=a.replace(/\/+$/,"");a=a.replace(/\//g,"-");a+=b;a=decodeURIComponent(a);a=a.replace(/[^\w\s\-.]/gi,"");return a.toLowerCase()}
function isURL(a){return a.startsWith("https")?!0:!1}
function handleNodeConfigs(a,b=1500){_heatDBG=!1;heatSaveStore("_heatMapEnvRecord",a.envVars,"_heatmapConfigs");heatSaveStore("_heatmapConfigUrl",a.envVars.CONFIGURL,"_heatmapConfigs");heatmapConfigsResponse.envVars={};heatmapConfigsResponse.heatmap.urlPaths={};heatmapHsrIds=heatmapConfigsResponse.heatmap.heatmaps[0].id;setTimeout(()=>{nodeConfigs=a;heatmapConfigsHasBeenAssigned||"undefined"===typeof HeatmapTracker||(myHeatEnv=heatRetrieveStore("_heatmapConfigs","_heatMapEnvRecord"),HeatmapTracker.HeatmapSessionRecording.configuration.assign(configsResponse))},
b)}
async function createConfigsFile(){let a=!1,b={idsite:preHeatmapSiteId,trackerid:heatmapRandomString(10),url:currentHeatmapURL,viewPortW:window.innerWidth,title:decodeURIComponent(extractNameFromURL()),_id:heatPVisitIdFromStore(preHeatmapSiteId),force_record:0,_isQr:0,_heatUrl:heatUrl,_isQrSiteHsr:0};if(window.heatPauseBeforeSCreenshot){let d=new URLSearchParams(window.location.search);a=!0;b._req="lambda";b._isQr=1;b._isQrSiteHsr=d.get("idSideHsr")}if(!1===a)navigator.sendBeacon("https://cfg.heatmap.com/root/",JSON.stringify(b));
else try{let d=await fetch(`${heatUrl}plugins/HeatmapSessionRecording/configs.php?_isQR=1`,{method:"POST",body:JSON.stringify(b)});if(d.ok){let c=await d.json();configsResponse=heatmapConfigsResponse=c;myHeatEnv=c.envVars;heatmapConfigsHasBeenAssigned=!1;configsResponse.heatmap.heatmaps&&0<configsResponse.heatmap.heatmaps.length&&(heatmapHsrIds=configsResponse.heatmap.heatmaps[0].id);nodeConfigs=heatmapConfigsResponse;return handleNodeConfigs(c,timestamp)}}catch(d){console.error("Fetch error:",d)}}
async function callNodeConfigs(a=2E3,b=!1){if(null==preHeatmapSiteId||nodeConfigs._req&&!b||websiteOrigin.includes("heatmapcore")||websiteOrigin.includes("heatmap.com"))return!0;try{const d=`https://c.heatmap.com/${preHeatmapSiteId}/${cleanURL(currentHeatmapURL)}.json`,c=await (await fetch(d,{method:"GET",cache:"no-cache"})).text();heatmapConfigsResponse=JSON.parse(c);"undefined"!==typeof heatmapConfigsResponse.heatmaps&&(heatmapConfigsResponse.heatmap={},heatmapConfigsResponse.envVars=heatmapConfigsResponse.urlPaths,
heatmapConfigsResponse.heatmap.idsite=heatmapConfigsResponse.idsite,heatmapConfigsResponse.heatmap.heatmaps=heatmapConfigsResponse.heatmaps,heatmapConfigsResponse.heatmap.sessions=heatmapConfigsResponse.sessions,delete heatmapConfigsResponse.urlPaths);configsResponse=heatmapConfigsResponse.heatmap;preHeatSiteType=heatmapConfigsResponse.type?heatmapConfigsResponse.type:preHeatSiteType;("000"==JSON.parse(c).envVars.IDSITE||regenConfiguration)&&setTimeout(createConfigsFile,0);"ecommerce"!==preHeatSiteType&&
HeatmapLeadCapture();nodeConfigs=heatmapConfigsResponse;return handleNodeConfigs(heatmapConfigsResponse,a)}catch(d){setTimeout(createConfigsFile,0)}}setTimeout(callNodeConfigs,0);
function extractNameFromURL(){if(document.title.length)return document.title=document.title.replace(/'/g,""),encodeURIComponent(document.title);var a=window.location.pathname,b=websiteOrigin.replace("https://","").replace("www.","");if(!a||"/"===a)return b.split(".")[0];let d=a.lastIndexOf("/"),c=a.substring(1,d).split("/").pop();a=`${a.substring(d+1).split("?")[0]}`.replace(/[^\w\s]/gi," ").trim();a=c.length?`${c}: ${a}`:a;b=b.split(".");a=2<b.length?a.replace(new RegExp(`\\.${b[b.length-2]}\\.${b[b.length-
1]}$`),""):a.replace(new RegExp(`\\.${b[b.length-1]}$`),"");a=a.replace(/'/g,"");return encodeURIComponent(a.trim())}function botDetection(){const a={heatmap:{heatmaps:[],sessions:[],idsite:0,trackerid:!1},idsite:0,trackerid:!1};var b=navigator.userAgent.toLowerCase();b=/bot|crawler|spider|googlebot|bingbot|yandexbot|duckduckbot|slurp|baiduspider/i.test(b);"innerWidth"in window||(b=!0);b&&(heatmapConfigsResponse=a,configsResponse=a.heatmap)}
function handleSinglePagedWebsite(a){var b=cleanURL(window.location.href),d=b;a=parseInt(a)?a:2E3;const c=()=>{window.currentHeatmapURL=window.location.href;window.Client_url=new URL(window.location.href);heaturl=new URL(window.currentHeatmapURL);window.heatSiteHref=heaturl.href;generatedIdloghsr=heatmapGenerateUniqueId(preHeatmapSiteId,"_idl");hrs_vidp=heatmapRandomString(10);window.heatviewsent=0;heatmapConfigsHasBeenAssigned=FirstHSRSentToAPI=!1;callNodeConfigs(300,!0);setTimeout(()=>{visitRecordSent.visit=
!1;visitRecordSent.loghsr=!1;_heatmap_paq.push(["trackPageView"]);heatVisitData.action_name=decodeURIComponent(extractNameFromURL());heatmapConfigsResponse.heatmap&&heatmapConfigsResponse.heatmap.heatmaps.length&&(heatmapHsrIds=heatmapConfigsResponse.heatmap.heatmaps[0].id);"undefined"!==typeof convObj&&convObj.triggerCustomSiteSnippets&&convObj.triggerCustomSiteSnippets()},1E3)};setInterval(()=>{b=cleanURL(window.location.href);b!==d&&(c(),d=b)},a)}
heatmapClientId||setTimeout(async function(){let a="undefined"!==typeof webpackChunk_intelligems_shopify_plugin?"&intelligem=true":"";try{if(websiteOrigin.includes("heatmapcore")||websiteOrigin.includes("heatmap.com"))return!0;const b=await (await fetch(`${heatUrl}heatmap.php?_req=_cip&_sid=${preHeatmapSiteId}${a}`)).text();let d=JSON.parse(b);heatmapClientId=d._c;heatSaveStore("heatmapClientId",heatmapClientId,"_heatmapConfigs");heatSaveStore("heatmapTracking",d,"_heatmapConfigs");window.heatmapRateLimiting=
d;d.singlePaged&&(triggerSinglepage=!0,handleSinglePagedWebsite(d.intervalTime));d.hasOwnProperty("contentEngagement")?window.contentEngagement=!!d.contentEngagement:window.contentEngagement=!0}catch(b){}},0);null!==myHeatEnv&void 0!==myHeatEnv&&myHeatEnv.length&&(myHeatEnv=heatRetrieveStore("_heatmapConfigs","_heatMapEnvRecord"),preHeatmapSiteId=myHeatEnv.IDSITE);
function browserDetection(){var a={};if("undefined"!==typeof navigator){var b=navigator,d={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",fla:"application/x-shockwave-flash",java:"application/x-java-vm",ag:"application/x-silverlight"};if(!/MSIE/.test(b.userAgent)){if(b.mimeTypes&&b.mimeTypes.length)for(var c in d)if(Object.prototype.hasOwnProperty.call(d,c)){var e=b.mimeTypes[d[c]];a[c]=e&&e.enabledPlugin?1:0}!/Edge[ /](\d+[.\d]+)/.test(b.userAgent)&&
"undefined"!==typeof b.javaEnabled&&b.javaEnabled()&&(a.java="1");a.cookie=b.cookieEnabled?1:0}}return heatBrowFeatures=a}function sendFromLocalStorage(){var a=localStorage.getItem("_heatmap_unsent");if(a&&myHeatEnv)try{if(!myHeatEnv.KINESISSTREAM||!myHeatEnv.KINESISGATEWAY)return!0;var b=JSON.parse(a);b.StreamName=myHeatEnv.KINESISSTREAM;navigator.sendBeacon(""+myHeatEnv.KINESISGATEWAY,JSON.stringify(b));localStorage.removeItem("_heatmap_unsent")}catch(d){}}sendFromLocalStorage();
function isValidId(a){let b=!1;if(a)try{b=1===document.querySelectorAll(`#${a}`).length}catch(d){}return a&&!/\s/.test(a)&&!heatmapMatchesIDFormat(a)&&!/[:\[\]/!.]/.test(a)&&!/\d{3,}/.test(a)&&b}
function sendDomFromLocalStorage(){try{var a=localStorage.getItem("_heatSessDom");if(a){if(!myHeatEnv.KINESISSTREAM)return!0;let b={Data:window.btoa(JSON.stringify(a)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM};navigator.sendBeacon(`${myHeatEnv.KINESISGATEWAY}`,JSON.stringify(b));localStorage.removeItem("_heatSessDom")}}catch(b){}}sendDomFromLocalStorage();
function heatDoesElementHaveChildren(a){for(let b=0;b<a.childNodes.length;b++)if(a.childNodes[b].nodeType!==Node.TEXT_NODE)return!0;return!1}function validateHeatSelector(a){if("html"===a.toLowerCase())return _heatDBG&&console.log("Selector is not valid. 'html' selector is not allowed."),!1;if(0<document.querySelectorAll(a).length)return!0;_heatDBG&&console.log("Selector is not valid. No element found matching the selector:",a);return!1}
function heatHasBeforeOrAfterPseudoElement(a){try{const b=window.getComputedStyle(a,"::before"),d=window.getComputedStyle(a,"::after"),c=window.getComputedStyle(a,"::after").zIndex;return c&&0>c?!1:"none"!==b.content||"none"!==d.content}catch(b){return!1}}
var x_m={simplifyAndJoinSelectors:(a="")=>{let b=[];if(!a.length)return a;a.split(">").forEach(d=>{0<(d.match(/\.[\w-]+/g)||[]).filter(c=>/[a-f0-9-]{36}/.test(c.slice(1))).length&&(d=d.replace(/\.[\w-]+/g,""));b.push(d.trim())});return b.join(" > ")},cssPath:function(a,b){if(a instanceof Element){if(1!==a.nodeType)return"";for(var d=[],c=a;c;){const e=x_m._cssPathStep(c,!!b,c===a);if(!e)break;d.push(e);if(e.optimized)break;c=c.parentNode}d.reverse();return d.join(" > ")}},_cssPathStep:function(a,
b,d){function c(l){return(l=l.getAttribute("class"))?l.split(/\s+/g).filter(u=>u&&!/[:\[\]/!.]|(\d{1,2}\s?[a-f\d]{7,}(-[a-f\d]{4}){3}-[a-f\d]{12})|(\d{5,})/.test(u)).map(u=>"$"+u):[]}function e(l){if(/^[0-9]|-[0-9-]?/.test(l)){const u=l.length-1;return l.replace(/./g,(r,x)=>{var y;(y=0===x&&/^[0-9]|-[0-9-]?/.test(r))||(y=!(/[a-zA-Z0-9_\-]/.test(r)||160<=r.charCodeAt(0)));y&&(x=x===u,r=r.charCodeAt(0).toString(16),1===r.length&&(r="0"+r),r="\\"+r+(x?"":" "));return r})}return l}function f(l){const u=
{};for(const r of l)u[r]=!0;return u}function q(l){let u=!1;if(l)try{u=1===document.querySelectorAll(`#${l}`).length}catch(x){}var r;if(r=l&&!/\s/.test(l))r=!/^[\w-]+-[a-fA-F0-9]+$/.test(l);return r&&!/[:\[\]/!.]/.test(l)&&!/\d{3,}/.test(l)&&u}if(a.nodeType!==Node.ELEMENT_NODE)return null;const t=a.getAttribute("id");if(b){if(q(t))return new x_m.DOMNodePathStep("#"+t,!0);b=a.nodeName.toLowerCase();if("body"===b||"head"===b||"html"===b)return new x_m.DOMNodePathStep(b,!0)}b=a.nodeName.toLowerCase();
if(q(t))return new x_m.DOMNodePathStep(b.toLowerCase()+"#"+t,!0);var v=a.parentNode;if(!v||v.nodeType===Node.DOCUMENT_NODE)return new x_m.DOMNodePathStep(b.toLowerCase(),!0);const k=c(a);let g=!1,h=!1,n=-1;if((v=v.children)&&v.length)for(let l=0;(-1===n||!h)&&l<v.length;++l){var p=v[l];if(p===a){n=l;continue}if(h)continue;if(p.nodeName.toLowerCase()!==b.toLowerCase())continue;g=!0;const u=f(k);let r=k.length;if(0===r)h=!0;else{p=c(p);for(var m of p)if(u.hasOwnProperty(m)&&(delete u[m],r--,0===r)){h=
!0;break}}}m=b.toLowerCase();d&&"input"===b.toLowerCase()&&a.getAttribute("type")&&!t&&0===k.length&&(m+='[type="'+a.getAttribute("type")+'"]');if(h)m+=":nth-child("+(n+1)+")";else if(g)for(const l of k)m+="."+e(l.substr(1));return new x_m.DOMNodePathStep(m,!1)},DOMNodePathStep:function(a,b){this.value=a;this.optimized=b||!1}};x_m.DOMNodePathStep.prototype={toString:function(){return this.value}};
x_m.returnOffset=function(a){if(!a.getBoundingClientRect)return{top:0,left:0,width:0,height:0};var b=(a&&a.ownerDocument).documentElement,d=a.getBoundingClientRect();return{top:Math.floor(d.top)+(window.pageYOffset||document.scrollTop||0)-(b.clientTop||0),left:Math.floor(d.left)+(window.pageXOffset||document.scrollLeft||0)-(b.clientLeft||0),width:x_m.safeMathMax([d.width,x_m.getWidth(a)]),height:x_m.safeMathMax([d.height,x_m.getHeight(a)])}};
x_m.safeMathMax=function(a){var b=[],d;for(d=0;d<a.length;d++)x_m.isNumber(a[d])&&b.push(a[d]);return 0===b.length?NaN:Math.max.apply(null,b)};x_m.getHeight=function(a){return!a||9!==a.nodeType&&"HTML"!==a.tagName?a===window?document.documentElement.clientHeight:x_m.safeMathMax([a.scrollHeight,a.offsetHeight,0]):x_m.getDocumentHeight()};
x_m.getWidth=function(a){return!a||9!==a.nodeType&&"HTML"!==a.tagName?a===window?document.documentElement.clientWidth:x_m.safeMathMax([a.scrollWidth,a.offsetWidth,0]):x_m.getDocumentWidth()};x_m.getDocumentHeight=function(){if(null!==document.body)return x_m.safeMathMax([document.body.offsetHeight,document.body.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,1]);setTimeout(function(){x_m.getDocumentHeight()},500)};
x_m.getDocumentWidth=function(){if(null!==document.body)return x_m.safeMathMax([document.body.offsetWidth,document.body.scrollWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,1]);setTimeout(function(){x_m.getDocumentWidth()},500)};x_m.getWindowSize=function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}};
x_m.getScrollTop=function(){return window.document.body.scrollTop||window.document.documentElement.scrollTop};x_m.isNumber=function(a){return!isNaN(a)};x_m.serialize=function(a){let b=[];for(let d in a)a.hasOwnProperty(d)&&b.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return b.join("&")};
x_m.isRageClickx=function(a,b){a.length>=LB&&a.shift();a.push(b);if(a.length<LB)return!1;allClicksProximity=allClicksProximity=allClicksRapid=!0;for(ix=1;ix<a.length;ix++)if(allSameSelector=a[ix].s===a[ix-1].s,allClicksRapid&=Math.abs(a[ix].ti-a[ix-1].ti)<=TmInterval,allClicksProximity&=Math.abs(a[ix].x-a[ix-1].x)<=XYIntrvl,allClicksProximity&=Math.abs(a[ix].y-a[ix-1].y)<=XYIntrvl,!allClicksRapid||!allClicksProximity||!allSameSelector)return!1;return allSameSelector&&allClicksRapid&&allClicksProximity?
(_heatDBG&&console.log("rage "+b.s+"  "+b.ti),!0):!1};
x_m.hash=function(a){var b=function(r,x){return r<<x|r>>>32-x},d=function(r){var x="",y;for(y=7;0<=y;y--){var z=r>>>4*y&15;x+=z.toString(16)}return x},c,e=[],f=1732584193,q=4023233417,t=2562383102,v=271733878,k=3285377520,g=[];a=decodeURIComponent(encodeURIComponent(a));var h=a.length;for(c=0;c<h-3;c+=4){var n=a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3);g.push(n)}switch(h&3){case 0:c=2147483648;break;case 1:c=a.charCodeAt(h-1)<<24|8388608;break;case 2:c=a.charCodeAt(h-
2)<<24|a.charCodeAt(h-1)<<16|32768;break;case 3:c=a.charCodeAt(h-3)<<24|a.charCodeAt(h-2)<<16|a.charCodeAt(h-1)<<8|128}for(g.push(c);14!==(g.length&15);)g.push(0);g.push(h>>>29);g.push(h<<3&4294967295);for(a=0;a<g.length;a+=16){for(c=0;16>c;c++)e[c]=g[a+c];for(c=16;79>=c;c++)e[c]=b(e[c-3]^e[c-8]^e[c-14]^e[c-16],1);n=f;h=q;var p=t;var m=v;var l=k;for(c=0;19>=c;c++){var u=b(n,5)+(h&p|~h&m)+l+e[c]+1518500249&4294967295;l=m;m=p;p=b(h,30);h=n;n=u}for(c=20;39>=c;c++)u=b(n,5)+(h^p^m)+l+e[c]+1859775393&4294967295,
l=m,m=p,p=b(h,30),h=n,n=u;for(c=40;59>=c;c++)u=b(n,5)+(h&p|h&m|p&m)+l+e[c]+2400959708&4294967295,l=m,m=p,p=b(h,30),h=n,n=u;for(c=60;79>=c;c++)u=b(n,5)+(h^p^m)+l+e[c]+3395469782&4294967295,l=m,m=p,p=b(h,30),h=n,n=u;f=f+n&4294967295;q=q+h&4294967295;t=t+p&4294967295;v=v+m&4294967295;k=k+l&4294967295}u=d(f)+d(q)+d(t)+d(v)+d(k);return u.toLowerCase()};
x_m.generateVisitId=function(){return x_m.hash((navigator.userAgent||"")+(navigator.platform||"")+window.JSON.stringify(heatBrowFeatures)+(new Date).getTime()+Math.random()).slice(0,16)};x_m.domainFixup=function(a){var b=a.length;"."===a.charAt(--b)&&(a=a.slice(0,b));"*."===a.slice(0,2)&&(a=a.slice(1));-1!==a.indexOf("/")&&(a=a.substr(0,a.indexOf("/")));return a};x_m.updateDomainHash=function(a){return x_m.hash(a+"/").slice(0,4)};
var heatmapIsLoaded=!1,checkHeatmapIsLoaded=function(){if(heatmapIsLoaded)return!0;!Array.isArray(_heatmap_paq)||"complete"!=document.readyState&&"interactive"!=document.readyState||!1!==window.heatMapLoaded||(Array.isArray(_heatmap_paq)&&0==_heatmap_paq.length&&_heatmap_paq.push(["setTrackerUrl",heatUrl+"heatmap.php"]),Object.keys(globalObjects).length||(loadScriptHeatmap(heatUrl+`heatmap-light.min.js?sid=${preHeatmapSiteId}&src=prep`),heatmapIsLoaded=!0))};
"undefined"!==typeof convertData&&(userConvertData=convertData.geo);if("complete"==document.readyState||"interactive"==document.readyState||"loading"==document.readyState){let a=[2280].includes(preHeatmapSiteId)?2E3:7E3;setTimeout(function(){checkHeatmapIsLoaded()},a)}function heatmapCalculateDateTime(){return(new Date).toLocaleString()}function heatmapPushLogsObject(a,b="Processing Log"){a=[{log:a,title:b,date:heatmapCalculateDateTime()}];heatmapLogsObject.push(...a)}
function heatmapSessionData(){browserDetection();var a=new Date,b=x_m.getScrollTop();b=parseInt((x_m.getWindowSize().height+b)/x_m.getDocumentHeight()*1E3,10);var d="null"!==websiteOrigin?window.location:window.parent.location;d=`${`${(new URL(d.origin)).hostname}${d.pathname}`.hostname}${d.pathname}`;a={preloader:1,rec:1,hsr_vid:hrs_vidp,_idv:generatedIdVisit,_idl:generatedIdloghsr,r:String(Math.random()).slice(2,8),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),idsite:preHeatmapSiteId,send_image:0,
hsr_vw:window.innerWidth,hsr_vh:window.innerHeight,res:window.innerWidth+"x"+window.innerHeight,pv_id:hrs_pvidp,heatmap_hsr:heatmapHsrIds,url:heatSiteHref,urlref:heatSiteHref,action_name:decodeURIComponent(extractNameFromURL()),_idn:heatmapPNewVisitor,_id:heatPVisitIdFromStore(preHeatmapSiteId),user_agent:localStorage.getItem("_user_agent"),hsr_ti:(new Date).getTime()-pre_start_time,hsr_smp:b,hsr_fyp:parseInt(x_m.getWindowSize().height/x_m.getDocumentHeight()*1E3,10),hsr_sh:x_m.getDocumentHeight(),
hsr_return:isReturningUser,pdf:1,user:userConvertData,qt:heatBrowFeatures.qt,realp:heatBrowFeatures.realp,wma:heatBrowFeatures.wma,fla:heatBrowFeatures.fla,java:heatBrowFeatures.java,ag:heatBrowFeatures.ag,cookie:heatBrowFeatures.cookie,efs_path:d.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"_"),"hsr_ids[]":heatmapHsrIds?heatmapHsrIds:"tranc",hsr_tid:"undefined",cip:heatmapClientId,test_data:sessionState,visit_sent:visitRecordSent.visit,loghsr_sent:visitRecordSent.loghsr,sessionTags:JSON.stringify(window.heatmapSessionTag),
uadata:JSON.stringify(parseUserAgent(navigator.userAgent)),clicks:JSON.stringify(_heatmap_pre_clicks)};a._ref=document.referrer;a._ref.length||(a._ref=websiteOrigin);a.urlref=a._ref;previousIdVisit&&(a.prev_idv=previousIdVisit);isGoalBuyer&&(a.buyer=isGoalBuyer,a.buyer_value=isGoalBuyerValue,a.buyer_currency=isGoalBuyerCurrency);userScrollData={ty:14,sh:a.hsr_sh,smp:a.hsr_smp,ti:a.hsr_ti,current_smp:a.hsr_smp};return a}
function heatmapGenerateSession(){if(null==myHeatEnv)return!0;localStorage.setItem("prevHsr",heatmapHsrIds);if(!visitRecordSent.loghsr||!visitRecordSent.visit||0<window._heatmap_pre_clicks.length){if(!nodeConfigs.heatmap.heatmaps.length||!nodeConfigs||!heatmapHsrIds||exitEventSent)return!0;var a=heatmapSessionData(),b=x_m.serialize(a);b={Data:window.btoa(JSON.stringify(b)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM};let d=!1,c=null,
e=localStorage.getItem("userMaxScroll");if(!e||e&&parseInt(e)<userScrollData.smp)d=!0,a.hsr_env=[userScrollData],a=x_m.serialize(a),c={Data:window.btoa(JSON.stringify(a)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM};if("undefined"==typeof preHeatmapSiteId)return!0;navigator.sendBeacon(`${myHeatEnv.KINESISGATEWAY}`,JSON.stringify(b));d&&navigator.sendBeacon(`${myHeatEnv.KINESISGATEWAY}`,JSON.stringify(c));localStorage.setItem("userMaxScroll",
0);localStorage.removeItem("_heatmap_unsent");globalObjects.remove(globalObjects.clicks,_clickFilter.hsr_ev)}0<("undefined"!==typeof globalObjects.cleanup?globalObjects.cleanup(globalObjects.clicks):[]).length&&(a=globalObjects.hsr,a.hsr_ev=globalObjects.cleanup(globalObjects.clicks),a={Data:window.btoa(globalObjects.query(a)),PartitionKey:`${(new Date).getTime()}`,StreamName:myHeatEnv.KINESISSTREAM},navigator.sendBeacon(`${myHeatEnv.KINESISGATEWAY}`,JSON.stringify(a)));return!0}
function heatmapGenerateSessionLocal(){if(!myHeatEnv||!myHeatEnv.KINESISSTREAM)return!0;if(0<window._heatmap_pre_clicks.length){var a=heatmapSessionData();a=x_m.serialize(a);a={Data:window.btoa(JSON.stringify(a)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM};a=JSON.stringify(a);localStorage.setItem("_heatmap_unsent",a)}}window.addEventListener("beforeunload",heatmapGenerateSession,!0);
function heatPVisitIdFromStore(a){localStorage.setItem("_user_agent",navigator.userAgent);var b=localStorage.getItem("_mr_vid");if(void 0!==b&&null!==b)return b;document.cookie.split(";").forEach(e=>{var [f,q]=e.split("=");if(-1<f.indexOf(`_pk_id.${a}`))return q.trim().split(".")[0]});heatmapPNewVisitor=1;b=new Date;let d=x_m.generateVisitId();var c=getPCookieName("id");HeatPsetCookie(c,d+"."+Math.round(b.getTime()/1E3)+".",1296E5,"/",x_m.domainFixup(document.domain),"secure","Lax");localStorage.setItem("_mr_vid",
d);return d}function getPCookieName(a){return"_pk_"+a+"."+preHeatmapSiteId+"."+x_m.updateDomainHash(x_m.domainFixup(document.domain))}function heatmapMatchesIDFormat(a){const b=/#/;return/^[\w-]+-[a-fA-F0-9]+$/.test(a)||b.test(a)}function heatmapReplaceUUIDInSelector(a){const b=/#((\d{1,2}\s?[a-f\d]{7,}(-[a-f\d]{4}){3}-[a-f\d]{12})|([a-f\d]{8}(-[a-f\d]{4}){3}-[a-f\d]{12}))/gi;return b.test(a)?(a=a.replace(b,""),a.includes(">")?a:null):a}
function HeatPsetCookie(a,b,d,c,e,f,q){if(d){var t=new Date;t.setTime(t.getTime()+d)}q||="Lax";document.cookie=a+"="+b+(d?";expires="+t.toGMTString():"")+";path="+(c||"/")+(e?";domain="+e:"")+(f?";secure":"")+";SameSite="+q}
function preClickworker(a){if("target"in a&&"pageY"in a&&"pageX"in a&&a.target){var b=x_m.returnOffset(a.target),d=parseInt((a.pageX-b.left)/b.width*2E3,10);b=parseInt((a.pageY-b.top)/b.height*2E3,10);var c=x_m.cssPath(a.target),e=null;try{e=document.querySelector(c)}catch(f){c=c.replace(/#[^\s>]+/,""),e=document.querySelector(c)}if(heatHasBeforeOrAfterPseudoElement(e)&&!heatDoesElementHaveChildren(e)){const f=window.getComputedStyle(e,"::after");(e=e.offsetParent)&&"BODY"!==e.tagName&&f&&"absolute"===
f.position&&"0px"===f.left&&"0px"===f.right&&"0px"===f.bottom&&(c=x_m.cssPath(e,!1))}1===d%2&&d++;1===b%2&&b++;isNaN(d)||isNaN(b)||(c=x_m.simplifyAndJoinSelectors(c),a={ti:(new Date).getTime()-pre_start_time,ty:2,s:c.replace(/"/g,""),x:d,y:b,ax:a.pageX,ay:a.pageY},a.s=heatmapReplaceUUIDInSelector(a.s),null!==a.s&&1==validateHeatSelector(a.s)&&"NaN"!==a.y&&(x_m.isRageClickx(clcks,a)&&(a.meta1="rage"),_heatmap_pre_clicks.push({type:0,data:a}),_heatDBG&&console.log("aS",a),_heatDBG&&console.log("_heatmap_pre_clicks: ",
_heatmap_pre_clicks),window.saveClicksToLocal&&heatmapGenerateSessionLocal(),"undefined"!==typeof globalObjects.clicks&&globalObjects.clicks.push(a)))}}
function HeatmapLeadCapture(){window.addEventListener("message",a=>{if("https://calendly.com"===a.origin&&a.data.event&&0===a.data.event.indexOf("calendly.")){var b=a.data;if("calendly.event_scheduled"===b.event){a=b.event.split(".")[1];var d=b.event;b=b.payload.event.uri;let c=heatRetrieveStore("_heatmapConfigs","leadConvCount");c=c?c+1:1;sendHeatBeatBeacon("leadConversion",heatmapHsrIds,{eventType:a,target:d,idgoal:1,referrer:b,count:c,device_type:heatmapPGetDeviceFromStore()});heatSaveStore("leadConvCount",
c,"_heatmapConfigs")}}})}function isCalendlyLoaded(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if(a[b].src&&a[b].src.includes("calendly"))return!0;return"undefined"!==typeof window.Calendly?!0:!1}function hselector(a){return document.querySelector(a)}
if(window.heatmapRateLimiting&&window.heatmapRateLimiting.configuration){const a=window.heatmapRateLimiting.configuration,b=cleanURL(window.location.href);var conversionSubmitted=!1;const d={};function c(k,g,h,n){if(!conversionSubmitted){n=new Date;var p=d[h];n=p?Math.round((n-p)/6E4):null;p=heatmapPGetDeviceFromStore();var m=heatRetrieveStore("_heatmapConfigs","leadConvCount");m=m?m+1:1;sendHeatBeatBeacon("leadConversion",heatmapHsrIds,{eventType:g,target:h,idgoal:k,count:m,intersection_time:n,device_type:p});
conversionSubmitted=!0;heatSaveStore("leadConvCount",m,"_heatmapConfigs")}}function e(k){return k.isIntersecting}function f(k){return cleanURL(k.replace(/\/$/,""))}function q(k){return k.some(g=>f(window.location.href)===f(g))}function t(k,g){a.summary.length&&k.forEach(h=>{const {target:n}=h,p=a.summary.find(m=>"visible"===m.eventType&&m.targets.some(l=>n.matches(l)));p&&e(h)&&(h=p.targets.find(m=>n.matches(m)),d[h]||(d[h]=new Date),c(p.type,p.eventType,h,null),g.unobserve(n))})}function v(k){const g=
new IntersectionObserver(t,{threshold:.5});document.querySelectorAll(k).forEach(h=>g.observe(h))}try{a.summary.length&&(new MutationObserver(k=>{k.forEach(g=>{g.addedNodes.forEach(h=>{1===h.nodeType&&a.summary.forEach(n=>{const {targets:p,eventType:m}=n;"visible"===m&&p.forEach(l=>{(h.matches(l)||h.querySelector(l))&&v(l)})})})})})).observe(document.body,{childList:!0,subtree:!0})}catch(k){}a&&a.summary.forEach(k=>{const {targets:g,href:h}=k;h===b&&("page_load"===k.eventType&&q(g)?c(k.type,k.eventType,
window.location.href,null):g.forEach(n=>{"page_load"!==k.eventType&&(v(n),"visible"!==k.eventType&&document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(n).forEach(p=>{p.addEventListener(k.eventType,m=>c(k.type,k.eventType,n,m))})}))}))})}window.DemoModeParam=Client_url.searchParams.get("pk_demo_mode");window.retrievedDemoData=localStorage.getItem("demonstrationModeCaptureScreen");
if(DemoModeParam||retrievedDemoData){const a=Client_url.searchParams.get("redirectUrl");a&&localStorage.setItem("leadRedirect",a);localStorage.setItem("demonstrationModeCaptureScreen",!0);loadScriptHeatmap(`${heatUrl}dmode.js`)}if(isCalendlyLoaded()&&!DemoModeParam&&!retrievedDemoData){HeatmapLeadCapture();var _HeatCalendlyToken=window.btoa(`${generatedIdVisit}:${generatedIdloghsr}:${preHeatmapSiteId}`)}
function processUserJourney(a,b=!1,d=!0){let c=heatRetrieveStore("_heatmapConfigs","_userJourney");if("function"===typeof doneLeadCaptureInstruction)return!0;try{let f=1;if(c){var e=Object.keys(c);f=e.length+1}c||={};if(websiteOrigin.includes("heatmapcore")||websiteOrigin.includes("heatmap.com"))return!0;if(1<f&&a.includes("reset_hsr"))return c[f-1].idSiteHsr||(c[f-1].idSiteHsr=heatmapHsrIds,heatSaveStore("_userJourney",c,"_heatmapConfigs")),!0;let q=`${websiteOrigin}${window.location.pathname}`;
c[f]={event:a.includes("pageviews")?"page_viewed":a,pageUrl:q,idVisit:generatedIdVisit,idSiteHsr:heatmapHsrIds,timeStamp:(new Date).toISOString()};if(70<=f)return!0;a={"/cart":"cart_viewed","/checkout":"checkout_viewed","/checkout/shipping":"shipping_viewed","/checkout/complete":"conversion","/collections":"collection_viewed","/thank-you":"conversion","/thank_you":"thank_you","/products/":"product_viewed"};if("page_viewed"===c[f].event){for(const t in a)(new RegExp(t,"ig")).test(q)&&(c[f].event=a[t]);
"/"===window.location.pathname&&(c[f].event="homepage_viewed");1!==f&&(q===c[e.length].pageUrl&&(c[f].event="page_viewed"),c[f-1].idSiteHsr||(c[f-1].idSiteHsr=localStorage.getItem("prevHsr")));["page_viewed","page_reload","homepage_viewed","collection_viewed"].includes(c[f].event)&&(c[f].title=decodeURIComponent(extractNameFromURL()));createNewVisitRequired&&(c[f].new_user=!0);previousIdVisit&&(c[f].return=!0,c[f].prev_idv=previousIdVisit);"conversion"!=c[f].event||isGoalBuyer||(c[f].event="page_viewed")}if(["link_clicked",
"button_clicked","add_to_cart","shop_now_clicked","conversion"].includes(c[f].event)&&1!==f&&(c[f-2].idSiteHsr||(c[f-2].idSiteHsr=localStorage.getItem("prevHsr")),"conversion"==c[f].event&&"conversion"==c[f-1].event))return!0;parseInt(isGoalBuyer)&&(c[f].event="conversion",c[f].is_purchaser=!0,c[f].purchaser_value=isGoalBuyerValue,localStorage.removeItem("heatIsGoalBuyer"),localStorage.removeItem("wPxIsGoalBuyer"),localStorage.removeItem("heatIsGoalBuyerValue"));if(localStorage.getItem("wPxIsGoalBuyer")&&
"conversion"==c[f].event)return localStorage.removeItem("heatIsGoalBuyer"),localStorage.removeItem("wPxIsGoalBuyer"),localStorage.removeItem("heatIsGoalBuyerValue"),!0;if(!c[f].event.length)return!0;b&&(c[f].selector=b);heatSaveStore("_userJourney",c,"_heatmapConfigs");if(!d)return!1;sendHeatBeatBeacon(heartBeatBeacons,heatmapHsrIds,c);heartBeatBeacons=""}catch(f){}}
function _heatmap_set_event_tag(a,b=!0){let d=localStorage.getItem("_heatmap_event_tag"),c={};if(d){d=JSON.parse(d);Array.isArray(d)||(d=[d]);if(a&&"object"===typeof a&&a.hasOwnProperty("partner")){let e=!1;d.forEach((f,q)=>{f.tag&&f.tag.partner===a.partner&&(d[q]={type:"object",tag:a,persistent:b,_idv:generatedIdVisit},e=!0)});e||d.push({type:"object",tag:a,persistent:b,_idv:generatedIdVisit})}else{let e=!1;d.forEach((f,q)=>{f.tag&&f.tag===a&&(d[q]={type:"object",tag:a,persistent:b,_idv:generatedIdVisit},
e=!0)});e||d.push({type:typeof a,tag:a,persistent:b,_idv:generatedIdVisit})}c=d}else c=[{type:typeof a,tag:a,persistent:b,_idv:generatedIdVisit}];localStorage.setItem("_heatmap_event_tag",JSON.stringify(c))}function heatmap_set_event_tag(a,b=!0){return _heatmap_set_event_tag(a,b)}
function convertPartnerTag(){
    if (typeof convert !== 'undefined' && convert.data) {
        let experiments = {};
        if(typeof convert.data.experiments !== 'undefined') {
            experiments = convert.data.experiments;
        }
        else if(typeof convert.data.experiences !== 'undefined') {
            experiments = convert.data.experiences;
        }
        if(!Object.keys(experiments).length) return true;
        Object.values(experiments).sort((a, b) => a.id - b.id).forEach((exp, i) => {
            let name = typeof exp.n !== 'undefined' ? exp.n : (typeof exp.name !== 'undefined' ? exp.name : '');
            let id = typeof exp.id !== 'undefined' ? exp.id : (typeof exp.id !== 'undefined' ? exp.id : '');
            let version = typeof exp.v !== 'undefined' ? exp.v : (typeof exp.version !== 'undefined' ? exp.version : '');

            if(name.length && i <= 10) {
                let tag = {
                    partner: `convert_variant_${i}`,
                    variant_friendly_name: name,
                    experiment_id: id,
                    variant_id: version,
                    variant_url: `${id}.${exp.vars_sort[0]}`,
                    variant_url2: ''
                };
                if(typeof exp.vars_sort[1] !== 'undefined') {
                    tag.variant_url2 = `${id}.${exp.vars_sort[1]}`;
                }
                window._heatmap_set_event_tag(tag);
            }
        });
    }
}const debouncedClickHandler=debounce(preClickworker,defaultEventTimeout);window.addEventListener("click",debouncedClickHandler,!0);
setTimeout(()=>{visitRecordSent.pageview||(visitRecordSent.pageview=!0,heartBeatBeacons=",pageviews");visitRecordSent.preprocessor||(visitRecordSent.preprocessor=!0,heartBeatBeacons+=",preprocessor");createNewVisitRequired&&!visitRecordSent.to_generate&&(visitRecordSent.to_generate=!0,heartBeatBeacons+=",visits_to_generate");processUserJourney(heartBeatBeacons);convertPartnerTag();heatSaveStore("heatmapDCPageLoadTime",0,"heatmapDebugger");heatSaveStore("heatmapDCVisit",0,"heatmapDebugger");heatSaveStore("heatmapDCLogHSR",
0,"heatmapDebugger");!triggerSinglepage&&window.heatmapRateLimiting&&(window.heatmapRateLimiting.singlePaged&&(triggerSinglepage=!0,handleSinglePagedWebsite(window.heatmapRateLimiting.intervalTime)),window.contentEngagement=window.heatmapRateLimiting.contentEngagement);window.ppEndTime=performance.now();window.ppExecutionTime=window.ppEndTime-window.ppStartTime;heatSaveStore("preprocessorLT",`${window.ppExecutionTime}ms`,"heatmapDebugger")},500);
function initializePreprocessorVariables(){window.HeatPreprocessorLoaded="true";const a=new CustomEvent("HeatPreprocessorReady");window.dispatchEvent(a)}initializePreprocessorVariables();