window.refreshCartContents=async response=>{const offcanvasCart=document.querySelector("#offcanvas-cart");offcanvasCart?.classList.add("loading");const text=await(await fetch(window.location.href)).text(),newDocument=new DOMParser().parseFromString(text,"text/html");if(offcanvasCart?.querySelector(".offcanvas-body").replaceWith(newDocument.querySelector("#offcanvas-cart .offcanvas-body")),offcanvasCart?.querySelector(".offcanvas-footer").replaceWith(newDocument.querySelector("#offcanvas-cart .offcanvas-footer")),document.querySelector("#cart")?.replaceWith(newDocument.querySelector("#cart")),document.querySelectorAll(".cart-count-badge").forEach(badge=>{badge.textContent=newDocument.querySelector(".cart-count-badge").textContent,badge.removeAttribute("hidden")}),offcanvasCart?.classList.remove("loading"),window.dispatchEvent(new Event("updated.ecomify.cart")),response.ok)response.url.includes("add.js")?offcanvasCart?.querySelector("#offcanvas-cart-alert-add").removeAttribute("hidden"):offcanvasCart?.querySelector("#offcanvas-cart-alert-updated").removeAttribute("hidden");else{const data=await response.json(),alert=document.querySelector("#offcanvas-cart-alert-error");alert.querySelector("span").textContent=`${data.message} - ${data.description}`,alert.removeAttribute("hidden")}},window.onChangeCartQty=async input=>{const response=await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:input.dataset.lineItemKey,quantity:input.value})});window.refreshCartContents(response)},window.onRemoveCartItem=async btn=>{const response=await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:btn.dataset.lineItemKey,quantity:0})});window.refreshCartContents(response)},window.showNoteButton=input=>{input.closest("#cart-note").querySelector("button").removeAttribute("hidden")},window.onSaveCartNote=async btn=>{btn.innerHTML=`
        <div class="spinner-border spinner-border-sm" role="status" style="width: 1rem; height: 1rem">
            <span class="visually-hidden">Loading...</span>
        </div>
    `;const note=btn.closest("#cart-note").querySelector('[name="note"]').value;await fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note})}),btn.innerHTML=`\u2713 <span class="visually-hidden">${btn.dataset.textNoteSaved}</span>`,setTimeout(()=>{btn.innerHTML=btn.dataset.textBtnSave},4e3)},window.onClickCheckoutBtn=btn=>{btn.style.height=btn.clientHeight+"px",btn.innerHTML=`
        <div class="spinner-border spinner-border-sm" role="status" style="width: 1.2rem; height: 1.2rem">
            <span class="visually-hidden">Loading...</span>
        </div>
    `};const initCartGoal=()=>{const progressBar=document.querySelector("#cart-goal .progress-bar");progressBar&&setTimeout(()=>{progressBar.style.width=progressBar.dataset.width},250)};initCartGoal(),window.addEventListener("updated.ecomify.cart",()=>{initCartGoal()});const initStickySummaryCard=()=>{const card=document.querySelector("#cart-summary");if(!card||window.matchMedia("max-width: 991px").matches)return;const navbarHeight=document.querySelector("#shopify-section-navbar.sticky-top").clientHeight||0;card.style.position="sticky",card.style.top=`${navbarHeight+20}px`};initStickySummaryCard(),window.addEventListener("updated.ecomify.cart",()=>{initStickySummaryCard()});
//# sourceMappingURL=/cdn/shop/t/52/assets/cart.js.map?v=60790836845073359831705558410
